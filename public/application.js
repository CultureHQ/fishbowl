self.onload=(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js"),function(){const e=document.getElementById("messages");document.addEventListener("keydown",o=>{if(o.metaKey&&"K"===String.fromCharCode(o.keyCode))for(;e.firstChild;)e.removeChild(e.firstChild)})}(),function(){const e="https:"===document.location.protocol?"wss:":"ws:",o=new WebSocket(`${e}//${document.location.host}/`),n=document.getElementById("messages"),t=e=>{let o=document.createElement("div"),t=document.createElement("span");t.className="timestamp",t.appendChild(document.createTextNode(`[${(new Date).toISOString()}]`)),o.appendChild(t),o.appendChild(document.createTextNode(" ")),o.appendChild(document.createTextNode(e)),n.appendChild(o)};t("Connecting to server..."),o.onopen=(()=>{t("Connection successful."),t("Listening for messages...")}),o.onclose=(()=>t("Connection closed.")),o.onerror=(()=>t("An error occurred.")),o.onmessage=(({data:e})=>t(e))}()});